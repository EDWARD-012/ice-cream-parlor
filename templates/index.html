{% extends "base.html" %}

{% block title %} Home {% endblock title %}

{% block style %}
body {
    overflow-x: hidden;
}
.carousel-inner img {
    max-width: 100%;
    height: auto;
}
.row {
    margin: 0;
}

.col:hover {
    transform: scale(1.02);
    transition: transform 1s;
    transition: box-shadow 1s;
    transition: border-radius 1s;
    transition: all 1s;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.7);
    background-color: rgba(13, 12, 12, 0.52);
}

{% endblock style %}

{% block body %}
    <div class="container-fluid px-0 text-center">
        <div class="row">
            <div class="col-md-12">
                {% if user.is_authenticated %}
                    <h1>Welcome, {{ user.username }} to Ravi Ice Cream Parlor!</h1>
                {% else %}
                    <h1>Welcome to Ravi Ice Cream Parlor</h1>
                {% endif %}
                <p>Home of the best ice creams in town</p>
            </div>
            
        </div>
        <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Introduction Slide"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Flavors Slide"></button>
                <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Specials Slide"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://plus.unsplash.com/premium_photo-1684952851239-a9cc9567884e?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aWNlJTIwY3JlYW18ZW58MHx8MHx8fDA%3D" 
                        class="d-block w-100" 
                        alt="First Slide">

                    <div class="carousel-caption" 
                        style="background-color: rgba(0, 0, 0, 0.5); color: #fff; padding: 10px; border-radius: 15px; max-width: 600px; margin: 0 auto;">
                        <h5>Delicious Chocolate Delight</h5>
                        <p>Indulge in our creamy chocolate ice cream!</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://plus.unsplash.com/premium_photo-1661427159078-9d85039e99b8?q=80&w=2832&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                        class="d-block w-100" 
                        alt="Second Slide">
                    <div class="carousel-caption" 
                        style="background-color: rgba(0, 0, 0, 0.5); color: #fff; padding: 10px; border-radius: 15px; max-width: 600px; margin: 0 auto;">
                        <h5>Strawberry Sensation</h5>
                        <p>Sweet and tangy strawberry flavors to brighten your day!</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://images.unsplash.com/photo-1567691334394-c0d00a7716db?q=80&w=2920&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                        class="d-block w-100" 
                        alt="Third Slide">
                    <div class="carousel-caption" 
                        style="background-color: rgba(0, 0, 0, 0.5); color: #fff; padding: 10px; border-radius: 15px; max-width: 600px; margin: 0 auto;">
                        <h5>Vanilla Classic</h5>
                        <p>Timeless vanilla flavor made to perfection!</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" style="background-color: rgba(0, 0, 0, 0.5); border-radius: 50%;"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                <span class="carousel-control-next-icon" style="background-color: rgba(0, 0, 0, 0.5); border-radius: 50%;"></span>
                <span class="visually-hidden">Next</span>
            </button>        
        </div>
    </div>


<div class="container my-3">
    <h1 class="text-center my-2">Select from our wide range of flavors</h1>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 py-3">
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://plus.unsplash.com/premium_photo-1723600885957-31ddca568fe2?q=80&w=800&h=800&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Vanilla Ice Cream">
                <div class="card-body">
                    <p class="card-text">Indulge in our classic vanilla ice cream, made with real vanilla beans for a rich and creamy experience.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">Just now</small>
                    </div>
                </div>
            </div>
        </div>
            
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://tarateaspoon.com/wp-content/uploads/2021/06/chocolate-ice-cream-cones-horiz.jpeg" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Chocolate Ice Cream">
                <div class="card-body">
                    <p class="card-text">Savor the rich and decadent flavor of our chocolate ice cream, crafted for true chocolate lovers.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">5 mins</small>
                    </div>
                </div>
            </div>
        </div>    
            
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://images.unsplash.com/photo-1589999637259-3c7abefd93eb?w=800&h=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8U3RyYXdiZXJyeSUyMEljZSUyMENyZWFtfGVufDB8MHwwfHx8MA%3D%3D" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Strawberry Ice Cream">
                <div class="card-body">
                    <p class="card-text">Enjoy the refreshing taste of our strawberry ice cream, made with real strawberries for a fruity delight.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">10 mins</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://icecreamfromscratch.com/wp-content/uploads/2023/02/Andes-Ice-Cream-1.2.jpg" style="height: 200px; object-fit: cover; object-position: center;" class="card-img-top" alt="Mint Chocolate Chip Ice Cream">
                <div class="card-body">
                    <p class="card-text">Cool down with our mint chocolate chip ice cream, featuring a refreshing mint flavor and chocolate chips.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">15 mins</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://images.unsplash.com/photo-1642646682918-442f76c1ec74?w=800&h=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Q29va2llcyUyMGFuZCUyMENyZWFtJTIwSWNlJTIwQ3JlYW18ZW58MHwwfDB8fHww" style="height: 200px; object-fit: cover; object-position: center;" class="card-img-top" alt="Cookies and Cream Ice Cream">
                <div class="card-body">
                    <p class="card-text">Delight in our cookies and cream ice cream, packed with chunks of chocolate cookies for a perfect treat.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">20 mins</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://tastesbetterfromscratch.com/wp-content/uploads/2020/08/Pistachio-Ice-Cream-5-300x300.jpg?w=800&h=800" style="height: 200px; object-fit: cover; object-position: center;" class="card-img-top" alt="Pistachio Ice Cream">
                <div class="card-body">
                    <p class="card-text">Try our unique pistachio ice cream, made with real pistachios for a nutty and creamy flavor.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">25 mins</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://tidymom.net/blog/wp-content/uploads/2022/05/rocky-road-ice-cream-image.jpg?w=800&h=800" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Rocky Road Ice Cream">
                <div class="card-body">
                    <p class="card-text">Indulge in our rocky road ice cream, filled with marshmallows and nuts for a delightful crunch.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">30 mins</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col">
            <div class="card shadow-sm">
                <img src="https://tmbidigitalassetsazure.blob.core.windows.net/rms3-prod/attachments/37/1200x1200/Coffee-Ice-Cream_EXPS_FT21_11965_F_0519_2.jpg?w=800&h=800" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Coffee Ice Cream">
                <div class="card-body">
                    <p class="card-text">Awaken your senses with our coffee ice cream, made with real coffee for a rich and bold flavor.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">35 mins</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card shadow-sm">
                <img src="https://thebeachhousekitchen.com/wp-content/uploads/2022/06/Mango-Sorbet-Feature-1-of-1-500x700.jpg" style="height: 300px; object-fit: cover; object-position: center;" class="card-img-top" alt="Mango Sorbet">
                <div class="card-body">
                    <p class="card-text">Experience the tropical delight of our mango sorbet, made with ripe mangoes for a refreshing treat.</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary">Customize</button>
                        </div>
                        <small class="text-muted">40 mins</small>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<footer style = "background-color: #222; color: #fff; text-align: center; height: 100px; padding-top: 20px; flex: 0 0 auto;">
    <p class="text-center" style="color: rgba(255, 255, 255, 1);">
        &copy; 2024 Ice Cream Parlour. All rights reserved.
    </p>
</footer> 

{% endblock body %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.querySelectorAll('.col').forEach(col => {
        col.addEventListener('mouseenter', function() {
            const nutritionalData = {
                'Vanilla Ice Cream': [30, 20, 50],
                'Chocolate Ice Cream': [40, 30, 30],
                'Strawberry Ice Cream': [25, 25, 50],
                'Mint Chocolate Chip Ice Cream': [35, 25, 40],
                'Cookies and Cream Ice Cream': [45, 35, 20],
                'Pistachio Ice Cream': [30, 40, 30],
                'Rocky Road Ice Cream': [50, 30, 20],
                'Coffee Ice Cream': [40, 20, 40],
                'Mango Sorbet': [20, 30, 50]
            };

            const flavor = this.querySelector('.card-img-top').alt;
            const data = nutritionalData[flavor] || [0, 0, 0];

            const chartContainer = document.createElement('div');
            chartContainer.style.position = 'absolute';
            chartContainer.style.top = '10px';
            chartContainer.style.right = '10px';
            chartContainer.style.width = '200px';
            chartContainer.style.height = '200px';
            chartContainer.style.backgroundColor = 'white';
            chartContainer.style.border = '1px solid #ddd';
            chartContainer.style.borderRadius = '10px';
            chartContainer.style.padding = '10px';
            chartContainer.style.zIndex = '1000';

            const canvas = document.createElement('canvas');
            chartContainer.appendChild(canvas);
            document.body.appendChild(chartContainer);

            new Chart(canvas, {
                type: 'pie',
                data: {
                    labels: ['Carbs', 'Proteins', 'Fats'],
                    datasets: [{
                        data: data,
                        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });

            this.addEventListener('mouseleave', function() {
                document.body.removeChild(chartContainer);
            }, { once: true });
        });
    });
</script>